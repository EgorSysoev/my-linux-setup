<h1>AWESOMETERMINALCOMMANDS</h1>

<p>========</p>

<h1>PACKAGES:</h1>

<p>dpkg -l - lists installed packages
apt - skin for dpkg
apt-get update - update local list of existing packages
-u dist-upgrade - upgrade (to regularly update put in crontab: apt-get update &amp;&amp; apt-get -u dist-upgrade)
install - also update single package
autoremove - remove unneeded packages
remove - remove package, leave configurations
purge - remove package and its configurations, run apt-get autoremove after, to remove all dependencies that are not needed anymore.
source <package> - download code
build-dep <package> - install the build dependencies
apt-cache search <keyword> - search packages, like apropos, but global
show - get info about package
policy <package> - show installed and remote version
aptitude - browse packages (skin for apt-get)
search '~i!~M' - list installed packages, that were not installed as a dependency, with short description.
winetricks - install wine applications
update-alternatives - maintain symbolic links determining default commands</p>

<p>apropos -a - all keywords
whatis - short description of app
whereis - locates where command resides
which - similar only executable
wtf - looks up filename suffixes database</p>

<p>INSTALL MANTRA:</p>

<p>./configure --help
./configure
make
sudo make install</p>

<p>=======</p>

<h1>GENERAL:</h1>

<p>expr - evaluate expressions (expr 1 + 1 -> 2)
echo -n - no newline at the end
-e - enable interpretation of backslashed letters
read - reads from file line by line
umask -  The umask is a value set by the shell. It controls the default permissions of any file created
ls  -d - list directory names instead of contents
-S - sort by size
-t - sort by time
-1 - one file per line
./* - ls one level deep
-i - get inode number of file (file id). Use sudo find / -inum <number> to find all links that point to same file.
rm -f - force remove (do not prompt)
mc - midnight commander
alt o - open parent dir in another panel
ctrl o - switch to bash
df - disc fullness / disc free
find . | grep bla - serarches also subdirectories recursively
locate <word>  - same as find but using index
sudo updatedb OR sudo locate -u - update database
locate -0 | xargs -0 - uses NUL character as separator, necessary for filenames with spaces
xargs - output from one command to arguments of another
-t - echoes the command before executing it, and -p echoes it and asks for confirmation
tar xvzf xxx.tar.gz - decompress and detar
xvjf xxx.tar.bz2 - decompress and detar
-cf archiveName.tar files.. - compress
tar cvf - ./SOURCEDIR<em>OR</em>FILES | ssh user@host 'cat > newfile.tar' - send tar archive over network
ln - makes links between files
-s <file> <link> - makes symbolic link. If you want to use relative paths you must be in links directory !!!!!!!!!!!!!!!!!!!!!!
ccsm - additional settings (compiz config settings manager - BAD)
md5sum - checks md5 sum hash
sh - run script even if not executable
-c '<commands>' - start new noninteractive shell and run commands
du -s <folderName> - folder size
screen - switch between multiple virtual terminals (useful in ssh)
ctrl+a: c - new terminal, n - next, p - previous, a - go to beginning of line
tmux - terminal multiplexer, better screen
ctrl+b: pgup - enter in copy mode and pageup, [ - copy mode, ] - paste,
" - split horizontally, % - split vertically
tmux ls - shows running sessions
tmux attach (-t <session no>) - attach to running session
ctrl-b d - exit session</p>

<p>man section<em>number tool</em>name
1 programs 2 System calls 3 Library calls 4 Special files 5 File formats 7 Miscellaneous 8 System administration commands
-a shows all sections
tee - Sends output of a program to a file and to a standard output
cp -R - copy recursively
shred - securely remove files
date - tells you date and time, also can set
cal - calendar
sudo fdisk -l - show partitions
shutdown now - take you to single user mode
-h now -  begins the shutdown procedure (OR halt OR poweroff)
-h 11:50 - when
-r now - reboot (OR reboot)
cmp - compares two files, similar do diff but also for binaries
acpi - check battery
xclip - copies to clipboard
mkfifo <pipename> - creates named pipe
during that shell session.
rsync - a fast, versatile, remote (and local) file-copying tool
wall - interconsole instant messenger (e "bla" | wall)
mesg n - turn off
wmctrl - X Window Manager
run-parts - run all scripts or programs in a directory
mkisofs - create a DVD/CD image
cdrecord - write to a CD/DVD
watch - execute a program periodically, showing output fullscreen
watch bash -i -c '<alias>' - execute alias periodically
zcat - catz gziped file
line - read one line
mktemp - create a temporary file or directory
tempfile
rename - renames multiple files using sed syntax
sleep - delay for a specified amount of time
whiptail - display dialog boxes from shell scripts
reset - initializes terminal, useful after printing binary file
hexdump, hd — ASCII, decimal, hexadecimal, octal dump
bc - calculator: echo 1+1 | bc -> 2
for floating point operations use: echo "scale=5;3/4" | bc -> .75000
zip -g <archive> <file> - grow/add to existing archive
unzip *.zip - backslash is necessary so that bash doesn't expand the *
-d <dirname> - extract into directory (create if doesent exist)
unrar e - extract files from rar archives
lpstat - show printing jobs
cancel <id> - cancel printing job
gpg <filename> - decrypt file with password
-c <filename> encrypt
file <filename> - determine file type
tree - ls in a tree-like (hierarchical) format
find <dir> -name <filename> - search by name
-not - insert before other options to negate
-samefile <filename> - find all hard links of a file
-xdev - don't descend directories on other filesystems
-inum <inum> - find files with the inode number
-type <f|...> - find files of type
-delete - delete found files
-exec <command> {} ; - find files and execute command for every found file. {} is replaced with filename
-exec <command> {} + - find files and execute command with all filenames in place of {}
-atime +/-n - find files that were last acessed less or more than n days.
sudo sh -c 'echo "bla bla bla" >> <filename>' - append lines to systam configuration file
gcc - gnu c compiler
-w - supress warnings (only print errors)
install - copy files and set attributes</p>

<p>====</p>

<h1>BASH:</h1>

<p>"$x" - ALWAYS PUT DOUBLE QUOTES AROUND VARIABLE!!!!!!!!!!!!!!!
"$<em>" - combines all the arguments into single word, separating them with first character of IFS variable. If IFS is not set, space is used. If IFS is null, no separator is used!!!!!!!!! No args provided will result in one empty string being passed on!!!
"$@" - Use this instead!!!!! Will retain arguments as-is, so no args provided will result in no args being passed on. This is in most cases what you want to use for passing on arguments.
Google: "$@" is right almost everytime, and $</em> is wrong almost everytime.
"$#" - number of arguments
"$1" - first argument
"$0" - name of the script
$'n' - string literal with escape seqences
If you want IFS to be a new line (useful with for loop) you need to: IFS=$'n' - the dollar forces substitution!!!!!
$? - exit code of last command (0 - ok)</p>

<p>test <expression> - same as [ <expression> ], -gt, -d,... Returns zero exit status if true.
-n - is string non empty, -z - is string empty, -a - and, -o - or,
= - strings are equal, -nt - file newer than, -ot - older then,
-d - directory exists, -e - file exists, -f - is a regular file,
-h - its a symbolic link, -r - has read permission,
-w - has write permission, -x - has execute permission
[[ <expression> ]] - same as [, but without word splitting and filename expansion. And with additional operators: &amp;&amp;, ||, &lt;, > (lexicographic less, more), and also regular expression matching.
let <expression> - executes expression</p>

<p>$(command) - same as <code>command</code>
$RANDOM - 0 - 32767
input=<code>cat</code> - getting standard input
- in place of a file name means standard in or out
set -o vi - set line editing to vi mode
pushd . - put current dir on stack
popd - pop dir from stack
cd - - go to last dir
source <script> - run script: for example source /etc/profile (same as . <command>)</p>

<h1>!/bin/bash - good practice to insert at begining of a bash script</h1>

<p>export PATH="$PATH:<your-dir>" - add new directory to path variable
All variables in bash are global !!!!!!!
read -p "Press [Enter] key to start backup..." - prompt for user input
variable=${1:-"default value"} - setting variable with default value if $1 is empty
getopts - parse parameters/arguments
getopt - GNU version is even better then getopts, not a builtin</p>

<p>HISTORY:</p>

<p>sudo !! - Run the last command as root
<space>command - Execute a command without saving it in the history
!<term> - last command that starts with term</p>

<p>ARRAYS AND LINES:</p>

<p>while read -r line; do
echo "... $line ..."
done &lt;&lt;&lt; "$list" - reading line by line from variable
${a[1]} - value of the second element of the array
for c in ${a[@]} - iterate over array
${varname:offset:length} - get substring: s="aeiou"; ${s:3:1} -> o
${#var} - length of a var
${#name[subscript]} - length  of the element
${#name[@]} - length  of the array</p>

<p>REDIRECTIONS:</p>

<p><command> 2> /dev/null - redirect error output
<command> &amp;> /dev/null - redirect both standard and error output
<command> >&amp;2 - write to stderr
<command> 2>&amp;1 | less - add stderr to stdout and print it with less (useful for gcc)</p>

<p>ALIASES:</p>

<p>alias - print all aliases
<name> - print alias
<name>='cmd' - set alias
command <command> - executes original command, bypassing any aliases or shell functions that may be defined for command
<command> - temporarily disable alias (call original)
type <command> - will tell you what is command aliased to
bash -n <script> - check for errors
mkdir -p - make parents if needed</p>

<p>====</p>

<h1>TEXT:</h1>

<p>PRINT:
tail -f - do not stop printing
-n +<line number> - start at line number
cat -n - number all lines
-nl - similar</p>

<blockquote>
  <blockquote>
  <p>file - simplest text editor (great for pasting)
less -  &amp;phrase - display only lines with
-N show line numbers
-~ do not show ~ after EOF
+G tells less to start at the end of the file
-F or --quit-if-one-screen
v - opens editor defined in $VISUAL or $EDITOR
:n - examine the next file
&lt;,> - go to home, end</p>
</blockquote>

<p></blockquote></p>

<p>EDIT:
tr - translate or delete characters (-d for delete)
cut <filename> - remove sections from each line of files
-d ’:’ -f 1,7 /etc/passwd - only show the username and the shell
sort - sorts
-u - uniq
-t - set delimiter for fields (default is space)
-k - select by which field to sort
uniq - removes adjacent duplicates
-d - intersection
-u - difference
column - columnate text
t - create a table
shuf - shuffle input lines
tac - concatenate and print files in reverse (reverse cat)
join - join lines of two files on a common field
colrm <from <to>> - removes columns
seq <number> - output numbers from 1 to number
ispell/aspell - interactive spell checker
basename <filename> - strip directory from filenames
-s &lt;.suffix> - also strip suffix
dirname <filename> - strip last component from file name
fmt - produce roughly uniform line lengths
fold - wrap each input line to fit in specified width
paste - glue two documents side by side
sed 's///g' - substitute every occurrence in line, not just the first one
's///I' - ignore case
-r - extended syntax, for +, ?,... , also you shouldn't escape the parenthesis
expand - convert tabs to spaces</p>

<p>DIFF:
diff -u <files> - unified format
diff --brief -r - commpare two directory trees
comm - compare two sorted files line by line
sdiff - two files side by side
patch - apply a diff file to original
patch &lt; patch.diff - apply patch
diff -u <old-filename> <new-filename> > patch.diff - create patch</p>

<p>SEARCH:
grep -v inverse, -n lineNumbers, -w wholeWord, -Ax or -Bx x lines after or before, -r recursive, -o, --only-matching (count occurrences with | wc -l), -P perl notation (if you need t or +!!!!), -i ignore case, -I - do not process binary files, -l - just print files with matches, -L - just print files wihouth matches -e <pattern> - specify pattern (needed if it starts with -)
look - display lines beginning with a given string
strings - print all text parts of binary file</p>

<p>CONVERT:
enscript - Converts text files to postscript, rtf, HTML
gs - ghostscript: postscript and PDF language interpreter and previewer
pdftohtml - pdf to html
pdftotext - pdf to text
libreoffice - novi openoffice
figlet - display large characters made up of ordinary screen characters (ascii art)
toilet - similar (ascii art)</p>

<p>EDITORS:
nano -  /etc/nanorc - nano config
/usr/share/nano/LANGUAGE.nanorc - syntax highlights
alt - / or ? go to last line
fte - cool text editor with CUA (IBM)-shortcuts
diakonos - simple terminal text editor with ctrl-c for copy
pyroom - distraction free writing (gui)</p>

<p>=======</p>

<h1>NETWORK:</h1>

<p>whois - info about domain
host <ip_address/hostname> - DNS lookup utility
nslookup - same interactively
dig - same, lot of options
hostname - prints/sets computer name, to set it permanently edit /etc/hostname and /etc/hosts
netstat - Displays contents of /proc/net files,  status of ports...
-r - show routing table
-i - show interfaces
arp - manipulate the system ARP cache (IP - mac)
route - The route command is the tool used to display or modify the routing table
add default gw 192.168.1.10 - change the default gateway
should DNS not be configured correctly on your machine, you need to edit
“/etc/resolv.conf” to make things work
ifconfig eth0 <ip> <down / up>
ifup eth0 - Will bring eth0 up if it is currently down.
ifcfg - Use ifcfg to configure a particular interface
ifconfig eth0 192.168.1.4 netmask 255.255.255.0 up - set ip and mask
ip link show - list network interfaces
set dev eth0 up - bring interface eth0 up or down
addr show - list addresses of interfaces
route add default via 1.2.3.254 - set default gateway
traceroute / traceroute6 / traceroute6.iputils
tracepath / tracepath6 - similar
-> iputils package
mtr - combines the functionality of the traceroute and ping
findsmb - list info about machines that respond to SMB name queries - windows based machines sharing their hard disk’s
/etc/services - list of services with their port numbers
NetworkManager - network management daemon
nm-tool - prints info
nm-online - is network connected
nmcli - command-line tool for controlling NetworkManager
NetworkManager.conf - configuration file
nc - (netcat) arbitrary TCP and UDP connections and listens
ncat - Concatenate and redirect sockets
ethtool eth0 - show status of eth0
-S - statistics
-s - change settings (speed, duplex,...)
ss -tupl - list internet services on a system
ss -tuo - list active connections to/from system</p>

<p>WIRELESS:</p>

<p>iwconfig - Sets the wireless configuration options basic to most wireless devices.
iwlist <interface> <option> - Displays current status information of a device. (more detailed then iwconfig)
iwspy - Sets the list of IP addresses in a wireless network and checks the quality of
their connections.
iwpriv - Accesses configuration options specific to a particular device.
rfkill list - show wireless adapters (wifi and bluetooth)
block/unblock <dev num> - block/unblock wireless device
iw dev wlan0 link - show link status of wlan0
set biterates legacy-2.4 1  - manually set interface speed
sudo iw dev wlan0 scan - list wireless networks in range
sudo iwlist wlan0 scan - similar
wavemon - monitor wireless connection link quality</p>

<p>========</p>

<h1>INTERNET:</h1>

<p>lynx - web browser
-cmd<em>log=FILENAME - write keystrokes to script
-cmd</em>script=FILENAME - read keystrokes from script
-syslog-urls - log requested URLs with syslog.
-Press a to save the address of a document or link to a (Netscape-alike) bookmark file, by default ~/lynx_bookmarks.html. You can open this in a different browser, it's just HTML.
-l Add the current link to your bookmark file
ctrl+n - scroll down two lines
ctrl+p - scroll up two lines
-dumb - prints txt to stdout (-crawl - turn numbers off)
-source - prints html to stdout
o - options (you can select vim mode)
ctrl p - previous line
crrl n - next line
elinks - web browser (looks better)
mutt - mail client
sftp - secure ftp
sshd - (openssh-server) ssh server deamon
/etc/init.d/ssh restart - sshd restart
ssh-keygen -t rsa -C "email address" - generate rsa key pair
~/.ssh - location for your keys
CYGWIN sshd - name of the service on windows
scp Desktop/url.txt yatri@192.168.1.50:~/Desktop/url.txt - copy file to remote comp, (ssh)
ssh [user]@[address] "mpg321 -" &lt; [file].mp3 - stream audio over ssh
wget - download files from WWW
-O - specify output file
-c - continue downloading unfinished file. Can also use wildcards, but use single quotes around url.
-r -l1 --no-parent -A.gif - recursively to the depth of one ignoring references to the parent directory and all gifs.
curl - similar
"-qO -" - writes to standard output + quiet
-i- urls specified by standard input
transmissioncli - torrent terminal client (-d download limit, -u upload (kB/s))
youtube-dl - download from youtube
noip2 - dynamic dns update client
rdesktop - Remote Desktop Protocol client
tin, nn - usenet client
nrss - rss feed reader</p>

<p>HACKING:</p>

<p>nmap -sP 192.168.2.1-3 - network scanning
nmap 192.168.0.3 -p100-139 - port scanning
sudo nmap -O 192.168.0.3 - scanning os
tcpdump - sniffer (Show network traffic), sudo
ettercap - Multipurpose sniffer/interceptor/logger for switched LAN (can detect man in the middle, denial of service, DNS spoofing)
driftnet - Picks out and displays images from network traffic
kismet - Wireless 802.11b monitoring tool
aircrack-ng - wireless WEP/WPA cracking utilities
Cain &amp; Abel - password recovery tool for Microsoft Operating Systems
dnsniff - warious hacking tools:
arpspoof - for man in the middle attack
dsniff - password sniffer for several protocols, ...
ip link set eth0 promisc on - set network inerface to promiscuous mode
iip link set eth0 multicast off - set multicast off</p>

<p>======</p>

<h1>SYSTEM:</h1>

<p>meta, system info - in cinnamon
uname -a - print system info, kernel version
cat /etc/issue - show name and version of distribution
init - Upstart init daemon job configuration
time <command> - time a execution of a command
cat /var/log/auth.log | grep "failed password" -i - print all failed logins
users - prints logged in users
who - logged in users, more data
w - logged in users, also what are they running
free -tm - Displays memory statistics
-s continuously display
vmstat - Performance of system components / virtual memory statistics
sar - System activity information
iostat - Disk usage
perf - profiler
sudo /etc/init.d/ssh restart - restart sshh deamon
zeitgeist - activity logger
vipw - edit password file
vigr - edit groups file
passwd - change password
chattr - Change file system attributes
dmesg - print the contents of your bootup (startup) messages displayed by the kernel. This is often useful when debugging problems
mount device mountpoint - mount /dev/hdc2 /mymedia
mount - list all mounted devices
Creating File Systems: mkfs, mke2fs, mkswap, parted, and fdisk
parted -l - list partitions (sudo)
mono - .NET support
telinit - change system runlevel
last - when various users have logged in or out. This includes information on when the computer was rebooted.
lastlog - Displays a list of users and what day/time they logged into the system
rsyslogd -  manages all the logs on your system
closelog, openlog, syslog, vsyslog -> send      messages to the system logger
logger - makes entries in the system log
auditd - system call auditing
ausearch - querys the audit logs
autrace - traces a specific process
auditctl - controls the behavior of the auditd server
busybox <command> - combines tiny versions of many common UNIX utilities into a single small executable. (1.5 Mb)
getconf -a - print all system configuration variables
strace <program name and its parameters> - trace system calls and signals. All printed system calls can be looked up by man!
-s - maximum string size we want printed (default is too short, 2000 ok)
-f - also follow children
-p <pid> - attach to process
-o <log file>
-c - count/aggregate
-T time the execution of each call
ltrace - list library calls made by command
lsof - list open files with file descriptors
-p <pid> - open files by process
<path> - open files in path
lsmod - show which kernel modules (drivers) are loaded
modinfo <driver-name> - get more information about kernel module
lsattr - list attributes
lshw - lists all hardware
lspci [-tv] - show pci info
lsusb [-tv] - show usb info
lscpu - print CPU information
tload - "graphic" representation of system load
dmidecode -q - display bios/dmi information like ram size/type,
max ram, computer model name, cpu information..
smartctl -A /dev/sda - show disk usage info
hdparm -tT /dev/sda - do a read speed test
badblocks -s /dev/sda - check for bad blocks
top - show processes by resource consumption
&lt;, > - change resource
htop - better top
sensors - (lm-sensors) hardware monitoring tool, temperature, fan speed
pwmconfig - (fancontrol) set fan speed
nohup - run a command immune to hangups
tty - print the file name of the terminal connected to standard input
stty - change and print terminal line settings
openvt -  run a program on a next available tty
script - makes a typescript of everything printed on your terminal. Ctrl-D to stop recording.
disks - nice gui partition tool
fstrim -v / - discard unused blocks, useful for ssd-s
setterm - set terminal atributes
-cursor off/on
xset - user preference utility for X
-r - turn key autorepeat off
r - turn key autorepeat on</p>

<p>KEYS/CHARACTERS/FONTS:
IN X:
xmodmap - remap keys
setxkbmap -layout us - set us keyboard layout
xev - get keycodes of pressed keys
X NOT NECESSARY:
loadkeys <country code> - load key mapping
showkey - get keycodes of pressed keys
setfont /usr/share/consolefonts/Uni2-VGA16.psf.gz - choose terminal font
/etc/default/console-setup - file with default font settings
jfbterm - enable unicode characters in terminal
echo -en "e]PC7373C9" - change blue color in tty (first numeral after P means slot, and others shade)</p>

<p>=========</p>

<h1>PROCESSES:</h1>

<p>ctrl-z - put job in background
jobs - Prints currently running job
bg <job number> - Backgrounds a process
fg <job number> - Bring a process to the foreground
%n - job number n
%s - job whose command line starts with s
%% - current job
%- - previous job</p>

<p>ps --forest - view hierarchical view of processes
v - virtual memory
--sort - sort by field
pstree - similar
pgrep <string> - returns PIDS of processes containing string (-l to     print process name)
pkill = kill $(pgrep mozilla) - kills everything mozilla
kill -kill pid - force quit, data will be lost
killall - uses name instead of pid
skill - sends signals to command/user/tty
skill -STOP user<em>name - stop all of the users processes
skill -CONT user</em>name
nice - Sets the priority for a process (from -20 MAX to 20 MIN priority)
nice -20 make - Would execute make and it would run at maximum          priority.
renice - Changes the priority of an existing command
renice +20 2222
snice - snice works very similarly to skill
snice -10 -u root - increase the priority of all root’s processes.
pmap - report memory map of a process (maped file)</p>

<p>SCHEDULED COMMANDS:</p>

<p>at - executes a command once on a particular day, at a particular time.
at 21:30 / at now + time /at -f shell_script now + 1 hour
echo "ls -l" | at midnight
atq - list jobs currently in queue
atrm - Will remove a job from the ’at’ queue.
crontab -e - schedule commands for repeating execution
cron - daemon that executes scheduled commands
anacron - catches up with tasks next time the computer is on</p>

<p>SERVICES:</p>

<p>service - allows you to start, stop or restart a service (/etc/init.d script)
service -f sshd - restart the daemon sshd
service httpd status - get status
service --status-all
You may also execute the shell script directly from /etc/init.d . Simply go to that directory
then type ./script name.
restart, start, stop, status
/etc/init.d/httpd stop = service httpd stop
runlevel - output previous and current runlevel
SYSTEM RUNLEVELS: RedHat / Debian
0 Shuts down the system
1 Administrative single-user mode
2 Same as 3 but without networking / multiuser with X server
3 Text mode state (ctrl+alt+F1) / User defined
4 User defined
5 X-window mode (ctrl+alt+F7) / User defined
6 Reboots
S Single user mode</p>

<p>===========</p>

<h1>MULTI-MEDIA:</h1>

<p>AUDIO:</p>

<p>cmus - music (can be controlled from outside)
mplayer - movie/music player
mpg321 - plays mp3
ogg123 - plays ogg
aplay - plays audio
play - plays audio
alsamixer - audio in out volumes
amixer
arecord -f filequality -d seconds <filename>
arecord -f cd -d numberofseconds -t raw | lame -x -r – out.mp3 - Arecord captures the audio that goes through your computer and pipes it to the lame encoder
id3v2 -l - lists all files tags
sound-juicer - cd ripper
xfburn - cd burner</p>

<p>BITMAP:</p>

<p>display - displays an image
montage - Creates a montage from images
<input file/s> -set label '%t' <output file/s> - labels images
convert - To convert the file format
import - Captures screen-shots from the X server
mogrify - edit image
gocr - command line text recognition tool
ocrad - command line text recognition tool
ppmforge - creates picture of random planet or clouds
gnuplot - interactive plotter: plot [-10:10] sin(x)
-p  leave plots open after exit
plot file.dat - plot data from dat file</p>

<p>VIDEO:</p>

<p>ffmpeg -i <fileNameIn> <fileNameOut> - Video and audio format converter. Has been replaced by:
libav-tools: avconv - video and audio format converter
openshot - gui movie editor (video)
openmovieeditor - gui movie editor (video)
aview, asciiview - ASCII art image viewer and video player</p>
